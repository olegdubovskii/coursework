{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oleg\\\\Desktop\\\\coursework\\\\client\\\\src\\\\components\\\\Login\\\\Login.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport { Link, useLocation } from 'react-router-dom';\nimport AuthService from \"../../services/authService\";\nimport styles from './styles/loginStyles.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Login = _ref => {\n  _s();\n  let {\n    navigate,\n    setUser\n  } = _ref;\n  const location = useLocation();\n  const props = location.state;\n  console.log(props);\n  const onSubmit = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const loginData = {\n      nickname: form.elements['nickname'].value,\n      password: form.elements['password'].value\n    };\n    const resp = await AuthService.logIn(loginData);\n    if (resp.status === 200) {\n      await resp.clone().json().then(data => localStorage.setItem('accessToken', data.accessToken));\n      await resp.json().then(data => setUser(data));\n      navigate(props.from, {\n        state: props.props\n      });\n    } else if (resp.status === 401) {\n      alert('Wrong nickname or email');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.login_container,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.nav_bar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0431\\u043B\\u043E\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"..\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nav_btn,\n          children: [\" \", \"<\", \" \\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 31,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 28,\n      columnNumber: 12\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.login_form,\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.form_input,\n        type: \"text\",\n        id: \"nickname\",\n        name: \"nickname\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.form_input,\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.button_wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.form_button,\n          type: \"submit\",\n          children: \"\\u0412\\u043E\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","Link","useLocation","AuthService","styles","jsxDEV","_jsxDEV","Login","_ref","_s","navigate","setUser","location","props","state","console","log","onSubmit","e","preventDefault","form","target","loginData","nickname","elements","value","password","resp","logIn","status","clone","json","then","data","localStorage","setItem","accessToken","from","alert","className","login_container","children","nav_bar","fileName","_jsxFileName","lineNumber","columnNumber","to","nav_btn","login_form","form_input","type","id","name","placeholder","button_wrapper","form_button","_c","$RefreshReg$"],"sources":["C:/Users/Oleg/Desktop/coursework/client/src/components/Login/Login.jsx"],"sourcesContent":["import React from \"react\";\nimport {Link, useLocation } from 'react-router-dom';\nimport AuthService from \"../../services/authService\";\nimport styles from './styles/loginStyles.module.css'\n\nconst Login = ({navigate, setUser}) => {\n    const location = useLocation();\n    const props = location.state;\n    console.log(props);\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        const form = e.target;\n        const loginData = { \n            nickname: form.elements['nickname'].value, \n            password: form.elements['password'].value \n        };    \n        const resp = await AuthService.logIn(loginData);\n        if (resp.status === 200) {\n            await resp.clone().json().then(data => localStorage.setItem('accessToken' , data.accessToken));\n            await resp.json().then( data => setUser(data));\n            navigate(props.from, {state: props.props});\n        } else if (resp.status === 401) {\n            alert('Wrong nickname or email');\n        }\n    }\n    return(\n        <div className={styles.login_container}>\n           <nav className={styles.nav_bar}>\n                <h1>Автомобильный блог</h1>\n                <Link to='..'>\n                    <button className={styles.nav_btn}> {\"<\"} На главную</button>\n                </Link>\n            </nav> \n            <form className={styles.login_form} onSubmit={onSubmit}> \n                <label>Имя пользователя</label> \n                <input className={styles.form_input} type=\"text\" id=\"nickname\" name=\"nickname\" placeholder=\"Введите имя пользователя\"/> \n                \n                <label>Пароль</label> \n                <input className={styles.form_input} type=\"password\" id=\"password\" name=\"password\" placeholder=\"Введите пароль\"/>\n                <div className={styles.button_wrapper}>\n                    <button className={styles.form_button} type=\"submit\">Войти</button> \n                </div>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAAQC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AACnD,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,MAAM,MAAM,iCAAiC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEpD,MAAMC,KAAK,GAAGC,IAAA,IAAyB;EAAAC,EAAA;EAAA,IAAxB;IAACC,QAAQ;IAAEC;EAAO,CAAC,GAAAH,IAAA;EAC9B,MAAMI,QAAQ,GAAGV,WAAW,EAAE;EAC9B,MAAMW,KAAK,GAAGD,QAAQ,CAACE,KAAK;EAC5BC,OAAO,CAACC,GAAG,CAACH,KAAK,CAAC;EAClB,MAAMI,QAAQ,GAAG,MAAOC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,IAAI,GAAGF,CAAC,CAACG,MAAM;IACrB,MAAMC,SAAS,GAAG;MACdC,QAAQ,EAAEH,IAAI,CAACI,QAAQ,CAAC,UAAU,CAAC,CAACC,KAAK;MACzCC,QAAQ,EAAEN,IAAI,CAACI,QAAQ,CAAC,UAAU,CAAC,CAACC;IACxC,CAAC;IACD,MAAME,IAAI,GAAG,MAAMxB,WAAW,CAACyB,KAAK,CAACN,SAAS,CAAC;IAC/C,IAAIK,IAAI,CAACE,MAAM,KAAK,GAAG,EAAE;MACrB,MAAMF,IAAI,CAACG,KAAK,EAAE,CAACC,IAAI,EAAE,CAACC,IAAI,CAACC,IAAI,IAAIC,YAAY,CAACC,OAAO,CAAC,aAAa,EAAGF,IAAI,CAACG,WAAW,CAAC,CAAC;MAC9F,MAAMT,IAAI,CAACI,IAAI,EAAE,CAACC,IAAI,CAAEC,IAAI,IAAItB,OAAO,CAACsB,IAAI,CAAC,CAAC;MAC9CvB,QAAQ,CAACG,KAAK,CAACwB,IAAI,EAAE;QAACvB,KAAK,EAAED,KAAK,CAACA;MAAK,CAAC,CAAC;IAC9C,CAAC,MAAM,IAAIc,IAAI,CAACE,MAAM,KAAK,GAAG,EAAE;MAC5BS,KAAK,CAAC,yBAAyB,CAAC;IACpC;EACJ,CAAC;EACD,oBACIhC,OAAA;IAAKiC,SAAS,EAAEnC,MAAM,CAACoC,eAAgB;IAAAC,QAAA,gBACpCnC,OAAA;MAAKiC,SAAS,EAAEnC,MAAM,CAACsC,OAAQ;MAAAD,QAAA,gBAC1BnC,OAAA;QAAAmC,QAAA,EAAI;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,eAC3BxC,OAAA,CAACL,IAAI;QAAC8C,EAAE,EAAC,IAAI;QAAAN,QAAA,eACTnC,OAAA;UAAQiC,SAAS,EAAEnC,MAAM,CAAC4C,OAAQ;UAAAP,QAAA,GAAC,GAAC,EAAC,GAAG,EAAC,0DAAW;QAAA;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAS;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAC1D;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACL,eACNxC,OAAA;MAAMiC,SAAS,EAAEnC,MAAM,CAAC6C,UAAW;MAAChC,QAAQ,EAAEA,QAAS;MAAAwB,QAAA,gBACnDnC,OAAA;QAAAmC,QAAA,EAAO;MAAgB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eAC/BxC,OAAA;QAAOiC,SAAS,EAAEnC,MAAM,CAAC8C,UAAW;QAACC,IAAI,EAAC,MAAM;QAACC,EAAE,EAAC,UAAU;QAACC,IAAI,EAAC,UAAU;QAACC,WAAW,EAAC;MAA0B;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,eAEvHxC,OAAA;QAAAmC,QAAA,EAAO;MAAM;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACrBxC,OAAA;QAAOiC,SAAS,EAAEnC,MAAM,CAAC8C,UAAW;QAACC,IAAI,EAAC,UAAU;QAACC,EAAE,EAAC,UAAU;QAACC,IAAI,EAAC,UAAU;QAACC,WAAW,EAAC;MAAgB;QAAAX,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,eACjHxC,OAAA;QAAKiC,SAAS,EAAEnC,MAAM,CAACmD,cAAe;QAAAd,QAAA,eAClCnC,OAAA;UAAQiC,SAAS,EAAEnC,MAAM,CAACoD,WAAY;UAACL,IAAI,EAAC,QAAQ;UAAAV,QAAA,EAAC;QAAK;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAS;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACjE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACH;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAEd,CAAC;AAACrC,EAAA,CAxCIF,KAAK;EAAA,QACUL,WAAW;AAAA;AAAAuD,EAAA,GAD1BlD,KAAK;AA0CX,eAAeA,KAAK;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}