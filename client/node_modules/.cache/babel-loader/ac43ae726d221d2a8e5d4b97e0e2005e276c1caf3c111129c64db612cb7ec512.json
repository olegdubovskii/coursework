{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oleg\\\\Desktop\\\\coursework\\\\client\\\\src\\\\components\\\\Registration\\\\Registration.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styles from './styles/registrationStyles.module.css';\nimport { Link, useLocation } from 'react-router-dom';\nimport AuthService from \"../../services/authService\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Registration = _ref => {\n  _s();\n  let {\n    navigate\n  } = _ref;\n  const location = useLocation();\n  const props = location.state;\n  console.log(props);\n  const onSubmit = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n    const registationData = {\n      nickname: form.elements['nickname'].value,\n      emailAdress: form.elements['emailAdress'].value,\n      password: form.elements['password'].value\n    };\n    if (reg.test(registationData.emailAdress)) {\n      const resp = await AuthService.register(registationData);\n      if (resp.status === 200) {\n        navigate(props.from, {\n          state: props.props\n        });\n      } else if (resp.status === 409) {\n        alert('Wrong nickname or email');\n      }\n    } else {\n      alert('wrong nickname or email');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.login_container,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.nav_bar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0431\\u043B\\u043E\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"..\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nav_btn,\n          children: [\"<\", \" \\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 34,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.login_form,\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.form_input,\n        type: \"text\",\n        id: \"nickname\",\n        name: \"nickname\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.form_input,\n        type: \"text\",\n        id: \"emailAdress\",\n        name: \"emailAdress\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 email\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.form_input,\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043F\\u0430\\u0440\\u043E\\u043B\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.button_wrapper,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.form_button,\n          type: \"submit\",\n          children: \"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(Registration, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = Registration;\nexport default Registration;\nvar _c;\n$RefreshReg$(_c, \"Registration\");","map":{"version":3,"names":["React","styles","Link","useLocation","AuthService","jsxDEV","_jsxDEV","Registration","_ref","_s","navigate","location","props","state","console","log","onSubmit","e","preventDefault","form","target","reg","registationData","nickname","elements","value","emailAdress","password","test","resp","register","status","from","alert","className","login_container","children","nav_bar","fileName","_jsxFileName","lineNumber","columnNumber","to","nav_btn","login_form","form_input","type","id","name","placeholder","button_wrapper","form_button","_c","$RefreshReg$"],"sources":["C:/Users/Oleg/Desktop/coursework/client/src/components/Registration/Registration.jsx"],"sourcesContent":["import React from \"react\";\nimport styles from './styles/registrationStyles.module.css';\nimport {Link, useLocation} from 'react-router-dom';\nimport AuthService from \"../../services/authService\";\n\nconst Registration = ({navigate}) => {\n    const location = useLocation();\n    const props = location.state;\n    console.log(props);\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        const form = e.target;\n        const reg = /^([A-Za-z0-9_\\-\\.])+\\@([A-Za-z0-9_\\-\\.])+\\.([A-Za-z]{2,4})$/;\n        const registationData = { \n            nickname: form.elements['nickname'].value,\n            emailAdress: form.elements['emailAdress'].value, \n            password: form.elements['password'].value \n        };\n        if (reg.test(registationData.emailAdress)) {    \n        const resp = await AuthService.register(registationData);\n        if (resp.status === 200) {\n            navigate(props.from, {state: props.props});\n        } else if (resp.status === 409) {\n            alert('Wrong nickname or email');\n        }\n        } else {\n            alert('wrong nickname or email')\n        }\n    }\n    return(\n        <div className={styles.login_container}>\n            <nav className={styles.nav_bar}>\n                <h1>Автомобильный блог</h1>\n                    <Link to='..'>\n                        <button className={styles.nav_btn}>{\"<\"} На главную</button>\n                    </Link>\n            </nav> \n            <form className={styles.login_form} onSubmit={onSubmit}> \n                <label>Имя пользователя</label> \n                <input className={styles.form_input} type=\"text\" id=\"nickname\" name=\"nickname\" placeholder=\"Введите имя пользователя\"/> \n\n                <label>Email</label> \n                <input className={styles.form_input} type=\"text\" id=\"emailAdress\" name=\"emailAdress\" placeholder=\"Введите email\"/> \n         \n                <label>Пароль</label> \n                <input className={styles.form_input} type=\"password\" id=\"password\" name=\"password\" placeholder=\"Введите пароль\"/> \n                <div className={styles.button_wrapper}>\n                    <button className={styles.form_button} type=\"submit\">Зарегистрироваться</button> \n                </div>\n            </form> \n       </div>\n    );\n}\n\nexport default Registration;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}