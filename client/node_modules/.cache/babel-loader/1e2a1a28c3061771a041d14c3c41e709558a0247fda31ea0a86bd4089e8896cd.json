{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oleg\\\\Desktop\\\\coursework\\\\client\\\\src\\\\components\\\\Cabinet\\\\Cabinet.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport styles from './styles/cabinetStyles.module.css';\nimport CabinetArticlePlate from \"./CabinetArticlePlate\";\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Cabinet = _ref => {\n  _s();\n  let {\n    user,\n    navigate,\n    setUser\n  } = _ref;\n  const [cabinetArticles, setCabinetArticles] = useState([]);\n  const getCabinetArticles = async () => {\n    const response = await fetch(`http://localhost:3030/api/v1/users/${user.id}/userArticles`);\n    if (response.status === 200) {\n      return response.json();\n    } else {\n      return [];\n    }\n  };\n  useEffect(() => {\n    getCabinetArticles().then(data => {\n      setCabinetArticles(data);\n    });\n    //getCabinetArticles().then(data => {console.log(data)});\n  }, []);\n  const deleteArticle = async () => {\n    const response = await fetch(`http://localhost:3030/api/v1/users/${user.id}/articles/:article_id`);\n    if (response.status === 200) {\n      navigate('/cabinet');\n    } else if (response.status === 404) {\n      alert('file not found');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.main_articles,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.nav_bar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0431\\u043B\\u043E\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"..\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.nav_btn,\n            children: [\" \", \"<\", \" \\u041D\\u0430 \\u0433\\u043B\\u0430\\u0432\\u043D\\u0443\\u044E\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/createArticle\",\n          state: user,\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.nav_btn,\n            children: \"\\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u044C\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nav_btn,\n          onClick: () => {\n            localStorage.removeItem('accessToken');\n            setUser({});\n            navigate('/');\n          },\n          children: \"\\u0412\\u044B\\u0439\\u0442\\u0438\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.user_info,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.user_info_section,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.user_info_title,\n          children: \"\\u0438\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: user.nickname\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.user_info_section,\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: styles.user_info_title,\n          children: \"email:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          children: user.emailadress\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      children: cabinetArticles.map((article, key) => {\n        return /*#__PURE__*/_jsxDEV(CabinetArticlePlate, {\n          user: user,\n          article: article,\n          deleteArticle: deleteArticle\n        }, key, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 66\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(Cabinet, \"a1E5++MpxFdL3pzdQ0sUh2rH5gk=\");\n_c = Cabinet;\nexport default Cabinet;\nvar _c;\n$RefreshReg$(_c, \"Cabinet\");","map":{"version":3,"names":["React","useState","useEffect","styles","CabinetArticlePlate","Link","jsxDEV","_jsxDEV","Cabinet","_ref","_s","user","navigate","setUser","cabinetArticles","setCabinetArticles","getCabinetArticles","response","fetch","id","status","json","then","data","deleteArticle","alert","className","main_articles","children","nav_bar","fileName","_jsxFileName","lineNumber","columnNumber","to","nav_btn","state","onClick","localStorage","removeItem","user_info","user_info_section","user_info_title","nickname","emailadress","map","article","key","_c","$RefreshReg$"],"sources":["C:/Users/Oleg/Desktop/coursework/client/src/components/Cabinet/Cabinet.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport styles from './styles/cabinetStyles.module.css'\nimport CabinetArticlePlate from \"./CabinetArticlePlate\";\n\nimport {Link} from 'react-router-dom';\n\nconst Cabinet = ({user, navigate, setUser}) => {\n    const [cabinetArticles, setCabinetArticles] = useState([]);\n\n    const getCabinetArticles = async () => {\n        const response = await fetch(`http://localhost:3030/api/v1/users/${user.id}/userArticles`);\n        if (response.status === 200) {\n            return response.json();\n        } else {\n            return [];\n        }\n    };\n\n    useEffect(() => {\n        getCabinetArticles().then(data => {setCabinetArticles(data)});\n        //getCabinetArticles().then(data => {console.log(data)});\n    }, []);\n\n    const deleteArticle = async () => {\n        const response = await fetch(`http://localhost:3030/api/v1/users/${user.id}/articles/:article_id`);\n        if (response.status === 200) {\n            navigate('/cabinet');\n        } else if (response.status === 404) {\n            alert('file not found');\n        }\n    };\n\n    return(\n        <div className={styles.main_articles}>\n            <nav className={styles.nav_bar}>\n                <h1>Автомобильный блог</h1>\n                <div>\n                <Link to='..'>\n                    <button className={styles.nav_btn}> {\"<\"} На главную</button>\n                </Link>\n                <Link to='/createArticle' state={user}>\n                    <button className={styles.nav_btn}>Создать статью</button> \n                </Link>\n                <button className={styles.nav_btn} onClick={() => { localStorage.removeItem('accessToken'); setUser({}); navigate('/')}}>Выйти</button> \n                </div>      \n            </nav> \n            <div className={styles.user_info}>\n                <div className={styles.user_info_section}>\n                    <p className={styles.user_info_title}>имя пользователя:</p>\n                    <h3>{user.nickname}</h3>\n                </div>\n                <div className={styles.user_info_section}>\n                    <p className={styles.user_info_title}>email:</p>\n                    <h3>{user.emailadress}</h3>\n                </div>\n            </div>\n            <section>\n                { cabinetArticles.map((article, key) => { return <CabinetArticlePlate key = {key} user={user} article = {article} deleteArticle={deleteArticle}/>})}\n            </section>\n        </div>\n    );\n};\n\nexport default Cabinet;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}