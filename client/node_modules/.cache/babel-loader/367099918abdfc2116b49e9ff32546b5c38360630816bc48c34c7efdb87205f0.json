{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Oleg\\\\Desktop\\\\coursework\\\\client\\\\src\\\\components\\\\Cabinet\\\\CreateArticle\\\\CreateArticle.jsx\",\n  _s = $RefreshSig$();\nimport React from \"react\";\nimport styles from './styles/createArticleStyles.module.css';\nimport { Link, useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CreateArticle = _ref => {\n  _s();\n  let {\n    navigate\n  } = _ref;\n  const location = useLocation();\n  const id = location.state;\n  const onSubmit = async e => {\n    e.preventDefault();\n    const form = e.target;\n    const formData = new FormData();\n    formData.append('image', form.elements['file'].files[0]);\n    const responseLink = await fetch(`http://localhost:3030/api/v1/image`, {\n      // headers: {\n      //     'Authorization': `Bearer ${localStorage.getItem('accessToken')}`\n      // },\n      method: 'POST',\n      body: formData\n    }).then(res => res.json());\n    const newArticle = {\n      title: form.elements['title'].value,\n      content: form.elements['content'].value,\n      dueTo: form.elements['dueTo'].value,\n      imageLink: responseLink\n    };\n    const responseNewArticle = await fetch(`http://localhost:3030/api/v1/users/${id}/newArticle`, {\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      method: 'POST',\n      body: JSON.stringify(newArticle)\n    });\n    if (responseNewArticle.status === 200) {\n      navigate('/cabinet');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n      className: styles.nav_bar,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0410\\u0432\\u0442\\u043E\\u043C\\u043E\\u0431\\u0438\\u043B\\u044C\\u043D\\u044B\\u0439 \\u0431\\u043B\\u043E\\u0433\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/cabinet\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: styles.nav_btn,\n          children: [\" \", \"<\", \" \\u0412 \\u043B\\u0438\\u0447\\u043D\\u044B\\u0439 \\u043A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 14\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      className: styles.form,\n      onSubmit: onSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0417\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        className: styles.input,\n        type: \"text\",\n        id: \"title\",\n        name: \"title\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0433\\u043E\\u043B\\u043E\\u0432\\u043E\\u043A \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"\\u0421\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        className: styles.input_text,\n        id: \"content\",\n        name: \"content\",\n        placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u043E\\u0434\\u0435\\u0440\\u0436\\u0430\\u043D\\u0438\\u0435 \\u0441\\u0442\\u0430\\u0442\\u044C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.small_inputs,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input_small,\n          type: \"file\",\n          id: \"file\",\n          name: \"file\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          className: styles.input_small,\n          type: \"date\",\n          id: \"dueTo\",\n          name: \"dueTo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: styles.nav_btn,\n        type: \"submit\",\n        children: \"\\u041E\\u043F\\u0443\\u0431\\u043B\\u0438\\u043A\\u043E\\u0432\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(CreateArticle, \"pkHmaVRPskBaU4tMJuJJpV42k1I=\", false, function () {\n  return [useLocation];\n});\n_c = CreateArticle;\nexport default CreateArticle;\nvar _c;\n$RefreshReg$(_c, \"CreateArticle\");","map":{"version":3,"names":["React","styles","Link","useLocation","jsxDEV","_jsxDEV","CreateArticle","_ref","_s","navigate","location","id","state","onSubmit","e","preventDefault","form","target","formData","FormData","append","elements","files","responseLink","fetch","method","body","then","res","json","newArticle","title","value","content","dueTo","imageLink","responseNewArticle","headers","JSON","stringify","status","className","container","children","nav_bar","fileName","_jsxFileName","lineNumber","columnNumber","to","nav_btn","input","type","name","placeholder","input_text","small_inputs","input_small","_c","$RefreshReg$"],"sources":["C:/Users/Oleg/Desktop/coursework/client/src/components/Cabinet/CreateArticle/CreateArticle.jsx"],"sourcesContent":["import React from \"react\";\nimport styles from './styles/createArticleStyles.module.css'\nimport { Link, useLocation } from 'react-router-dom';\n\nconst CreateArticle = ({navigate}) => {\n    const location = useLocation();\n    const id = location.state;\n\n    const onSubmit = async (e) => {\n        e.preventDefault();\n        const form = e.target;\n        const formData = new FormData();\n        formData.append('image', form.elements['file'].files[0]);\n        const responseLink = await fetch(`http://localhost:3030/api/v1/image`, {\n            // headers: {\n            //     'Authorization': `Bearer ${localStorage.getItem('accessToken')}`\n            // },\n            method:'POST',\n            body: formData,\n        }).then(res => res.json());\n\n        \n        const newArticle = {\n            title: form.elements['title'].value,\n            content: form.elements['content'].value,\n            dueTo: form.elements['dueTo'].value,\n            imageLink: responseLink\n        };\n\n        const responseNewArticle = await fetch(`http://localhost:3030/api/v1/users/${id}/newArticle`, {\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            method:'POST',\n            body: JSON.stringify(newArticle),\n        }); \n        if (responseNewArticle.status === 200) {\n            navigate('/cabinet');\n        }\n    }\n    return(\n        <div className={styles.container}>\n             <nav className={styles.nav_bar}>\n                <h1>Автомобильный блог</h1>\n                <Link to='/cabinet'>\n                    <button className={styles.nav_btn}> {\"<\"} В личный кабинет</button>\n                </Link>\n            </nav> \n            <form className={styles.form} onSubmit={onSubmit}> \n                <label>Заголовок</label> \n                <input className={styles.input} type=\"text\" id=\"title\" name=\"title\" placeholder=\"Введите заголовок статьи\"/> \n                \n                <label>Содержание</label> \n                <textarea className={styles.input_text} id=\"content\" name=\"content\" placeholder=\"Введите содержание статьи\"></textarea> \n                <div className={styles.small_inputs}>\n                    <input className={styles.input_small} type=\"file\"  id=\"file\" name=\"file\"/>\n                    <input className={styles.input_small} type=\"date\" id=\"dueTo\" name=\"dueTo\"/>\n                </div>\n         \n                <button  className={styles.nav_btn} type=\"submit\">Опубликовать</button> \n            </form> \n        </div>\n    );\n}\n\nexport default CreateArticle;"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,MAAM,MAAM,yCAAyC;AAC5D,SAASC,IAAI,EAAEC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAErD,MAAMC,aAAa,GAAGC,IAAA,IAAgB;EAAAC,EAAA;EAAA,IAAf;IAACC;EAAQ,CAAC,GAAAF,IAAA;EAC7B,MAAMG,QAAQ,GAAGP,WAAW,EAAE;EAC9B,MAAMQ,EAAE,GAAGD,QAAQ,CAACE,KAAK;EAEzB,MAAMC,QAAQ,GAAG,MAAOC,CAAC,IAAK;IAC1BA,CAAC,CAACC,cAAc,EAAE;IAClB,MAAMC,IAAI,GAAGF,CAAC,CAACG,MAAM;IACrB,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,EAAE;IAC/BD,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEJ,IAAI,CAACK,QAAQ,CAAC,MAAM,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IACxD,MAAMC,YAAY,GAAG,MAAMC,KAAK,CAAE,oCAAmC,EAAE;MACnE;MACA;MACA;MACAC,MAAM,EAAC,MAAM;MACbC,IAAI,EAAER;IACV,CAAC,CAAC,CAACS,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,EAAE,CAAC;IAG1B,MAAMC,UAAU,GAAG;MACfC,KAAK,EAAEf,IAAI,CAACK,QAAQ,CAAC,OAAO,CAAC,CAACW,KAAK;MACnCC,OAAO,EAAEjB,IAAI,CAACK,QAAQ,CAAC,SAAS,CAAC,CAACW,KAAK;MACvCE,KAAK,EAAElB,IAAI,CAACK,QAAQ,CAAC,OAAO,CAAC,CAACW,KAAK;MACnCG,SAAS,EAAEZ;IACf,CAAC;IAED,MAAMa,kBAAkB,GAAG,MAAMZ,KAAK,CAAE,sCAAqCb,EAAG,aAAY,EAAE;MAC1F0B,OAAO,EAAE;QACL,cAAc,EAAE;MACpB,CAAC;MACDZ,MAAM,EAAC,MAAM;MACbC,IAAI,EAAEY,IAAI,CAACC,SAAS,CAACT,UAAU;IACnC,CAAC,CAAC;IACF,IAAIM,kBAAkB,CAACI,MAAM,KAAK,GAAG,EAAE;MACnC/B,QAAQ,CAAC,UAAU,CAAC;IACxB;EACJ,CAAC;EACD,oBACIJ,OAAA;IAAKoC,SAAS,EAAExC,MAAM,CAACyC,SAAU;IAAAC,QAAA,gBAC5BtC,OAAA;MAAKoC,SAAS,EAAExC,MAAM,CAAC2C,OAAQ;MAAAD,QAAA,gBAC5BtC,OAAA;QAAAsC,QAAA,EAAI;MAAkB;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAK,eAC3B3C,OAAA,CAACH,IAAI;QAAC+C,EAAE,EAAC,UAAU;QAAAN,QAAA,eACftC,OAAA;UAAQoC,SAAS,EAAExC,MAAM,CAACiD,OAAQ;UAAAP,QAAA,GAAC,GAAC,EAAC,GAAG,EAAC,yFAAiB;QAAA;UAAAE,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAS;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAChE;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACL,eACN3C,OAAA;MAAMoC,SAAS,EAAExC,MAAM,CAACe,IAAK;MAACH,QAAQ,EAAEA,QAAS;MAAA8B,QAAA,gBAC7CtC,OAAA;QAAAsC,QAAA,EAAO;MAAS;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACxB3C,OAAA;QAAOoC,SAAS,EAAExC,MAAM,CAACkD,KAAM;QAACC,IAAI,EAAC,MAAM;QAACzC,EAAE,EAAC,OAAO;QAAC0C,IAAI,EAAC,OAAO;QAACC,WAAW,EAAC;MAA0B;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAE,eAE5G3C,OAAA;QAAAsC,QAAA,EAAO;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAQ,eACzB3C,OAAA;QAAUoC,SAAS,EAAExC,MAAM,CAACsD,UAAW;QAAC5C,EAAE,EAAC,SAAS;QAAC0C,IAAI,EAAC,SAAS;QAACC,WAAW,EAAC;MAA2B;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAY,eACvH3C,OAAA;QAAKoC,SAAS,EAAExC,MAAM,CAACuD,YAAa;QAAAb,QAAA,gBAChCtC,OAAA;UAAOoC,SAAS,EAAExC,MAAM,CAACwD,WAAY;UAACL,IAAI,EAAC,MAAM;UAAEzC,EAAE,EAAC,MAAM;UAAC0C,IAAI,EAAC;QAAM;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAE,eAC1E3C,OAAA;UAAOoC,SAAS,EAAExC,MAAM,CAACwD,WAAY;UAACL,IAAI,EAAC,MAAM;UAACzC,EAAE,EAAC,OAAO;UAAC0C,IAAI,EAAC;QAAO;UAAAR,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,QAAE;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QACzE,eAEN3C,OAAA;QAASoC,SAAS,EAAExC,MAAM,CAACiD,OAAQ;QAACE,IAAI,EAAC,QAAQ;QAAAT,QAAA,EAAC;MAAY;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAAS;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACpE;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QACL;AAEd,CAAC;AAAAxC,EAAA,CA3DKF,aAAa;EAAA,QACEH,WAAW;AAAA;AAAAuD,EAAA,GAD1BpD,aAAa;AA6DnB,eAAeA,aAAa;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}